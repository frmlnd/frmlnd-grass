/**
  * A silly angular app that makes grass grow at the bottom of a container, most likely a webpage.
  * @version 0.1.0
  * @link https://github.com/frmlnd/frmlnd-grass
  * @license MIT License, http://www.opensource.org/licenses/MIT
  */

var app=angular.module("frmlnd-grass",[]);!function(){var r=function(r,n){var t=this;t.isDisabled=!1,t.isClicked=!1,t.buttonText=function(){return n.trustAsHtml(t.isClicked?"Grow More":"Grow")},r.$on("frmlndGrowComplete",function(){t.isDisabled=!1})};r.$inject=["$rootScope","$sce"],angular.module("frmlnd-grass").controller("MainController",r)}(),function(){var r=function(r,n){return{restrict:"E",transclude:!1,controller:["$scope",function(r){r.frmlndGrow=function(){r.initGrow()}}],link:function(r,t,o){var a=[];r.initGrow=function(){var e={w:t[0].offsetParent.clientWidth,h:t[0].offsetParent.clientHeight};if(0==a.length)for(var i=1;i<e.w;i++)a[i]=angular.element('<div class="blade" style="left: '+i+'px"></div>'),t.append(a[i]);var l=0,s=17;r.growGrass=n(function(){l*s>o.duration&&(n.cancel(r.growGrass),r.$emit("frmlndGrowComplete"));for(var t=o.duration/s,i=0;t>i;i++){var f=Math.floor(Math.random()*(e.w-1)+1);if(f){var c=Math.floor(9*Math.random()+1),d=(Math.floor(20*Math.random())+1)*(1==Math.floor(2*Math.random())?1:-1),u=a[f][0].offsetHeight;a[f].css("height",u+c+"px"),a[f].css("transform","rotate("+d+"deg)")}}l+=s},s),r.$on("$destroy",function(){n.cancel(r.growGrass)})},"true"===o.auto&&r.initGrow()}}};r.$inject=["$window","$interval"],angular.module("frmlnd-grass").directive("frmlndGrass",r)}();