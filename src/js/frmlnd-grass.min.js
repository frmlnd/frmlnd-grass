/**
  * frmlnd-grass
  * A silly angular app that makes grass grow at the bottom of a container, most likely a webpage.
  * @version 0.1.0
  * @author Adam Penly <apenly@gmail.com>
  * @link https://github.com/frmlnd/frmlnd-grass
  * @license MIT License, http://www.opensource.org/licenses/MIT
  */

var app=angular.module("frmlnd-grass",[]);!function(){var r=function(r,t){var n=this;n.isDisabled=!1,n.isClicked=!1,n.buttonText=function(){return t.trustAsHtml(n.isClicked?"Grow More":"Grow")},r.$on("frmlndGrowComplete",function(){n.isDisabled=!1})};r.$inject=["$rootScope","$sce"],angular.module("frmlnd-grass").controller("MainController",r)}(),function(){var r=function(r,t,n){return{restrict:"E",transclude:!1,controller:["$scope",function(r){r.frmlndGrow=function(){r.initGrow()}}],link:function(r,o,a){var e=[];r.initGrow=function(){var n={w:o[0].offsetParent.clientWidth,h:o[0].offsetParent.clientHeight};if(0==e.length)for(var i=1;i<n.w;i++)e[i]=angular.element('<div class="blade" style="left: '+i+'px"></div>'),o.append(e[i]);var l=0,s=17;r.growGrass=t(function(){l*s>a.duration&&(t.cancel(r.growGrass),r.$emit("frmlndGrowComplete"));for(var o=a.duration/s,i=0;o>i;i++){var f=Math.floor(Math.random()*(n.w-1)+1);if(f){var c=Math.floor(9*Math.random()+1),d=(Math.floor(20*Math.random())+1)*(1==Math.floor(2*Math.random())?1:-1),u=e[f][0].offsetHeight;e[f].css("height",u+c+"px"),e[f].css("transform","rotate("+d+"deg)")}}l+=s},s),r.$on("$destroy",function(){t.cancel(r.growGrass)})},"true"===a.auto&&n(function(){r.initGrow()},a.delay?a.delay:2e3)}}};r.$inject=["$window","$interval","$timeout"],angular.module("frmlnd-grass").directive("frmlndGrass",r)}();